# -*- coding: utf-8 -*-

from odoo import models, fields, api

class pedidoVenta(models.Model):
    # Herencia de la tabla de ventas
    _inherit = 'sale.order'

    # Añadir el estado Pedido a ventas
    state = fields.Selection(selection_add=[('apedido', 'Pasado a Pedido'),('aalbaran', 'Pasado a Albarán')])
    subject = fields.Char('Sibject')
    type_doc = fields.Selection([
		('Presupuesto','Presupuesto'),
		('Pedido','Pedido'),
		('Albaran','Albarán'),
		],string='TipoDoc',default='Presupuesto')
	

    # Metodo que llamará un botón para cambiar el estado a pedido
    @api.multi
    def action_pedido(self, default=None):
		self.write({'state': 'apedido'})
		default = dict(default or {})
		default.update({
		'note': '',
		'type_id': 6,
		'type_doc': 'Pedido',
		'state': 'draft'})
		return super(pedidoVenta, self).copy(default)
		return default
		

    def action_albaran(self, default=None):
		self.write({'state': 'aalbaran'})
		default = dict(default or {})
		default.update({
		'note': '',
		'type_id': 7,
		'type_doc': 'Albaran',
		'state': 'draft'})
		return super(pedidoVenta, self).copy(default)




    def copy_sale(self, default=None):
        default = dict(default or {})
        return super(pedidoVenta, self).copy(default)
	
	
	
		
		
		

class pedidoCompra(models.Model):
    # Herencia de la tabla de ventas
    _inherit = 'purchase.order'

    # Añadir el estado Pedido a ventas
    state = fields.Selection(selection_add=[('pedido', 'Pedido')])

    # Metodo que llamará un botón para cambiar el estado a pedido
    @api.multi
    def action_pedido(self):
        return self.write({'state': 'pedido'})